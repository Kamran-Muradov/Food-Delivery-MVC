@model HeaderVMVC

<header class="navbar d-block navbar-sticky navbar-expand-lg navbar-light bg-light">
    <div class="container">
        <a class="navbar-brand d-none d-sm-block me-4 order-lg-1" href="index.html"><img src="~/img/logo-dark.png" width="142" alt="Cartzilla"></a><a class="navbar-brand d-sm-none me-2 order-lg-1" href="index.html"><img src="~/img/logo-icon.png" width="74" alt="Cartzilla"></a>
        <div class="navbar-toolbar d-flex align-items-center order-lg-3">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"><span class="navbar-toggler-icon"></span></button><a class="navbar-tool d-none d-lg-flex" href="javascript:void(0)" data-bs-toggle="collapse" data-bs-target="#searchBox" role="button" aria-expanded="false" aria-controls="searchBox">
                <span class="navbar-tool-tooltip">Search</span>
                <div class="navbar-tool-icon-box"><i class="navbar-tool-icon ci-search"></i></div>
            </a>
            @if (User.Identity != null && !User.Identity.IsAuthenticated)
            {
                <a class="navbar-tool ms-2" href="#signin-modal" data-bs-toggle="modal">
                    <span class="navbar-tool-tooltip">Account</span>
                    <div class="navbar-tool-icon-box"><i class="navbar-tool-icon ci-user"></i></div>
                </a>
            }
            <div class="navbar-tool dropdown ms-3">
                <a class="navbar-tool-icon-box bg-secondary dropdown-toggle" asp-controller="Cart" asp-action="Index">
                    <span id="menu-count" class="navbar-tool-label @(Model.BasketCount == 0 ? "d-none" : "")">@Model.BasketCount</span>
                    <i class="navbar-tool-icon ci-cart"></i>
                </a>
                <!-- Cart dropdown-->
                <div class="dropdown-menu dropdown-menu-end">
                    <div class="widget widget-cart px-3 pt-2 pb-3" style="width: 20rem;">
                        <div style="height: 15rem;" data-simplebar data-simplebar-auto-hide="false">
                            <div class="widget-cart-item pb-2 border-bottom">
                                <button class="btn-close text-danger" type="button" aria-label="Remove"><span aria-hidden="true">&times;</span></button>
                                <div class="d-flex align-items-center">
                                    <a class="d-block" href="#"><img src="img/food-delivery/cart/th01.jpg" width="64" alt="Pizza"></a>
                                    <div class="ps-2">
                                        <h6 class="widget-product-title"><a href="#">Pizza Pepperoni with Tomatoes</a></h6>
                                        <div class="widget-product-meta"><span class="text-accent me-2">$9.<small>00</small></span><span class="text-muted">x 1</span></div>
                                    </div>
                                </div>
                            </div>
                            <div class="widget-cart-item py-2 border-bottom">
                                <button class="btn-close text-danger" type="button" aria-label="Remove"><span aria-hidden="true">&times;</span></button>
                                <div class="d-flex align-items-center">
                                    <a class="d-block" href="#"><img src="img/food-delivery/cart/th02.jpg" width="64" alt="Burger"></a>
                                    <div class="ps-2">
                                        <h6 class="widget-product-title"><a href="#">Beef Burger with Fries</a></h6>
                                        <div class="widget-product-meta"><span class="text-accent me-2">$12.<small>00</small></span><span class="text-muted">x 1</span></div>
                                    </div>
                                </div>
                            </div>
                            <div class="widget-cart-item py-2 border-bottom">
                                <button class="btn-close text-danger" type="button" aria-label="Remove"><span aria-hidden="true">&times;</span></button>
                                <div class="d-flex align-items-center">
                                    <a class="d-block" href="#"><img src="img/food-delivery/cart/th03.jpg" width="64" alt="Drink"></a>
                                    <div class="ps-2">
                                        <h6 class="widget-product-title"><a href="#">Coca Cola Can, 335ml</a></h6>
                                        <div class="widget-product-meta"><span class="text-accent me-2">$1.<small>00</small></span><span class="text-muted">x 3</span></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex flex-wrap justify-content-between align-items-center py-3">
                            <div class="fs-sm me-2 py-2"><span class="text-muted">Total:</span><span class="text-accent fs-base ms-1">$24.<small>00</small></span></div><a class="btn btn-outline-secondary btn-sm" href="food-delivery-cart.html">Expand cart<i class="ci-arrow-right ms-1 me-n1"></i></a>
                        </div><a class="btn btn-primary btn-sm d-block w-100" href="food-delivery-checkout.html"><i class="ci-card me-2 fs-base align-middle"></i>Checkout</a>
                    </div>
                </div>
            </div>
            @if (User.Identity != null && User.Identity.IsAuthenticated)
            {
                <ul class="navbar-nav navbar-mega-nav ms-lg-4 pe-lg-2 me-lg-2">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle ps-lg-0" href="#" data-bs-toggle="dropdown"><i></i>@User.Identity.Name</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#">Account</a></li>
                            @if (User.IsInRole("Admin") || User.IsInRole("SuperAdmin"))
                            {
                                <li><a class="dropdown-item" asp-area="Admin" asp-controller="Dashboard" asp-action="Index">Go to Admin</a></li>
                            }
                            <form method="post" asp-controller="Account" asp-action="Logout">
                                <input type="submit" class="dropdown-item" value="Logout" />
                            </form>
                        </ul>
                    </li>
                </ul>
            }
        </div>
        <div class="collapse navbar-collapse me-auto order-lg-2" id="navbarCollapse">
            <!-- Search (mobile)-->
            <div class="d-lg-none py-3">
                <div class="input-group">
                    <i class="ci-search position-absolute top-50 start-0 translate-middle-y ms-3"></i>
                    <input class="form-control rounded-start px-5" type="text" placeholder="What do you need?">
                </div>
            </div>
            <!-- Location dropdown-->
            <ul class="navbar-nav navbar-mega-nav ms-lg-4 pe-lg-2 me-lg-2">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle ps-lg-0" href="#" data-bs-toggle="dropdown"><i class="ci-location me-2"></i>New York</a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">Los Angeles</a></li>
                        <li><a class="dropdown-item" href="#">Chicago</a></li>
                        <li><a class="dropdown-item" href="#">Houston</a></li>
                        <li><a class="dropdown-item" href="#">Philadelphia</a></li>
                        <li><a class="dropdown-item" href="#">San Diego</a></li>
                        <li><a class="dropdown-item" href="#">Miami</a></li>
                    </ul>
                </li>
            </ul>
            <!-- Primary menu-->
            <ul class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">Cuisine</a>
                    <div class="dropdown-menu px-2 ps-0 pb-4">
                        <div class="d-flex">
                            <div class="mega-dropdown-column pt-4 px-3" style="width: 12rem;">
                                <div class="widget mb-3">
                                    <a class="d-block" href="food-delivery-category.html">
                                        <img class="d-block mx-auto mb-3" src="~/img/food-delivery/icons/burger.svg" width="60" alt="Burgers &amp; Fries">
                                        <h6 class="fs-base text-center">Burgers &amp; Fries</h6>
                                    </a>
                                </div>
                            </div>
                            <div class="mega-dropdown-column pt-4 px-3" style="width: 12rem;">
                                <div class="widget mb-3">
                                    <a class="d-block" href="food-delivery-category.html">
                                        <img class="d-block mx-auto mb-3" src="~/img/food-delivery/icons/noodles.svg" width="60" alt="Noodles">
                                        <h6 class="fs-base text-center">Noodles</h6>
                                    </a>
                                </div>
                            </div>
                            <div class="mega-dropdown-column pt-4 px-3" style="width: 12rem;">
                                <div class="widget mb-3">
                                    <a class="d-block" href="food-delivery-category.html">
                                        <img class="d-block mx-auto mb-3" src="~/img/food-delivery/icons/pizza.svg" width="60" alt="Pizza &amp; Pasta">
                                        <h6 class="fs-base text-center">Pizza &amp; Pasta</h6>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex">
                            <div class="mega-dropdown-column pt-4 px-3" style="width: 12rem;">
                                <div class="widget mb-3">
                                    <a class="d-block" href="food-delivery-category.html">
                                        <img class="d-block mx-auto mb-3" src="~/img/food-delivery/icons/steak.svg" width="60" alt="Grill &amp; Steaks">
                                        <h6 class="fs-base text-center">Grill &amp; Steaks</h6>
                                    </a>
                                </div>
                            </div>
                            <div class="mega-dropdown-column pt-4 px-3" style="width: 12rem;">
                                <div class="widget mb-3">
                                    <a class="d-block" href="food-delivery-category.html">
                                        <img class="d-block mx-auto mb-3" src="~/img/food-delivery/icons/fish.svg" width="60" alt="Fish &amp; Seafood">
                                        <h6 class="fs-base text-center">Fish &amp; Seafood</h6>
                                    </a>
                                </div>
                            </div>
                            <div class="mega-dropdown-column pt-4 px-3" style="width: 12rem;">
                                <div class="widget mb-3">
                                    <a class="d-block" href="food-delivery-category.html">
                                        <img class="d-block mx-auto mb-3" src="~/img/food-delivery/icons/healthy.svg" width="60" alt="Healthy Food">
                                        <h6 class="fs-base text-center">Healthy Food</h6>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex">
                            <div class="mega-dropdown-column pt-4 px-3" style="width: 12rem;">
                                <div class="widget mb-3">
                                    <a class="d-block" href="food-delivery-category.html">
                                        <img class="d-block mx-auto mb-3" src="~/img/food-delivery/icons/cuisine.svg" width="60" alt="Haute Cuisine">
                                        <h6 class="fs-base text-center">Haute Cuisine</h6>
                                    </a>
                                </div>
                            </div>
                            <div class="mega-dropdown-column pt-4 px-3" style="width: 12rem;">
                                <div class="widget mb-3">
                                    <a class="d-block" href="food-delivery-category.html">
                                        <img class="d-block mx-auto mb-3" src="~/img/food-delivery/icons/chicken.svg" width="60" alt="Chicken &amp; Snaks">
                                        <h6 class="fs-base text-center">Chicken &amp; Snaks</h6>
                                    </a>
                                </div>
                            </div>
                            <div class="mega-dropdown-column pt-4 px-3" style="width: 12rem;">
                                <div class="widget mb-3">
                                    <a class="d-block" href="food-delivery-category.html">
                                        <img class="d-block mx-auto mb-3" src="~/img/food-delivery/icons/coffee.svg" width="60" alt="Coffee &amp; Desserts">
                                        <h6 class="fs-base text-center">Coffee &amp; Desserts</h6>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="nav-item"><a class="nav-link" href="index.html">Back to main demo</a></li>
            </ul>
        </div>
    </div>
    <!-- Search collapse-->
    <div class="search-box collapse" id="searchBox">
        <div class="container py-2">
            <form method="get" asp-controller="Restaurant" asp-action="Search">
                <i class="ci-search position-absolute top-50 start-0 translate-middle-y ms-3" style="left: 155px !important;top: 118px !important;"></i>
                <input id="input-search" class="form-control rounded-start d-block px-5" type="text" name="searchText" placeholder="What do you need?">
                <div id="test" class="row pt-3 w-75 m-auto">
                    <div id="results-menu" class="d-flex justify-content-between d-none">
                        <h4>Restaurants</h4>
                        <a href="#" onclick="$(this).closest('form').submit()">See all</a>
                    </div>
                </div>
            </form>
        </div>
    </div>
</header>
